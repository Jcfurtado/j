
/*
***model

package br.com.fiap.model;

import java.util.Calendar;

import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;
import javax.persistence.Id;
import javax.persistence.SequenceGenerator;
import javax.persistence.Temporal;
import javax.persistence.TemporalType;
import javax.validation.constraints.Max;
import javax.validation.constraints.Min;
import javax.validation.constraints.Past;
import javax.validation.constraints.Size;

import org.hibernate.validator.constraints.NotBlank;
import org.springframework.format.annotation.DateTimeFormat;

@Entity
@SequenceGenerator(name="seqVeiculo",sequenceName="SQ_VEICULO",allocationSize=1)
public class Veiculo {

	@Id
	@GeneratedValue(generator="seqVeiculo",strategy=GenerationType.SEQUENCE)
	private int codigo;
	
	@NotBlank	
	private String modelo;
	
	@NotBlank
	private String marca;
	
	private String cor;
	
	@NotBlank
	@Size(max=7)
	private String placa;
	
	@Max(2020)
	@Min(1900)
	private int ano;
	
	@Past
	@Temporal(TemporalType.DATE)
	@DateTimeFormat(pattern="dd/MM/yyyy")
	private Calendar dataFabricacao;

	public String getModelo() {
		return modelo;
	}

	public void setModelo(String modelo) {
		this.modelo = modelo;
	}

	public String getMarca() {
		return marca;
	}

	public void setMarca(String marca) {
		this.marca = marca;
	}

	public String getCor() {
		return cor;
	}

	public void setCor(String cor) {
		this.cor = cor;
	}

	public String getPlaca() {
		return placa;
	}

	public void setPlaca(String placa) {
		this.placa = placa;
	}

	public int getAno() {
		return ano;
	}

	public void setAno(int ano) {
		this.ano = ano;
	}

	public int getCodigo() {
		return codigo;
	}

	public void setCodigo(int codigo) {
		this.codigo = codigo;
	}

	public Calendar getDataFabricacao() {
		return dataFabricacao;
	}

	public void setDataFabricacao(Calendar dataFabricacao) {
		this.dataFabricacao = dataFabricacao;
	}

}


***

package br.com.fiap.model;

import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;
import javax.persistence.Id;
import javax.persistence.SequenceGenerator;

@Entity
@SequenceGenerator(name="seqAcessorio",sequenceName="SQ_T_ACESSORIO",allocationSize=1)
public class Acessorio {

	@Id
	@GeneratedValue(generator="seqAcessorio",strategy=GenerationType.SEQUENCE)
	private int codigo;
	
	private String nome;
	
	private double preco;
	
	private String descricao;
	
	private boolean disponivel;

	public int getCodigo() {
		return codigo;
	}

	public void setCodigo(int codigo) {
		this.codigo = codigo;
	}

	public String getNome() {
		return nome;
	}

	public void setNome(String nome) {
		this.nome = nome;
	}

	public double getPreco() {
		return preco;
	}

	public void setPreco(double preco) {
		this.preco = preco;
	}

	public String getDescricao() {
		return descricao;
	}

	public void setDescricao(String descricao) {
		this.descricao = descricao;
	}

	public boolean isDisponivel() {
		return disponivel;
	}

	public void setDisponivel(boolean disponivel) {
		this.disponivel = disponivel;
	}
	
}


****WEB-INF
***tags
**template.tag

<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<%@ attribute name="titulo" required="true" %>
<%@ attribute name="script" fragment="true" %>

<!DOCTYPE>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" charset="UTF-8">
<title>${titulo }</title>
<link rel="stylesheet" type="text/css"
	href="<c:url value="/resources/css/bootstrap.min.css"/>">

</head>
<body>
	<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <a class="navbar-brand" href="#">FIAP</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <a class="nav-link" href="<c:url value="/veiculo/cadastrar"/>">Cadastrar <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="<c:url value="/veiculo/listar"/>">Listar</a>
      </li>      
    </ul>
    <form class="form-inline my-2 my-lg-0">
      <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
      <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
    </form>
  </div>
</nav>
	<div class="container">	
		<jsp:doBody/>
	</div>
	<p style="text-align: center;">Todos os Direitos Reservados &copy; - 2017</p>
	
<script type="text/javascript"
	src="<c:url value="/resources/js/jquery-3.2.1.min.js"/>"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
<script type="text/javascript"
	src="<c:url value="/resources/js/bootstrap.min.js"/>"></script>
	
	<jsp:invoke fragment="script"></jsp:invoke>
	
</body>
</html>


****jsp
****home
***index.jsp

<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
<%@ taglib prefix="tag" tagdir="/WEB-INF/tags" %>

<tag:template titulo="Home">
	<h1>Home</h1>
</tag:template>


****veiculo
***cadastro.jsp

<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
<%@ taglib uri="http://www.springframework.org/tags/form" prefix="form"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>    
<%@ taglib prefix="tags" tagdir="/WEB-INF/tags" %>
<tags:template titulo="Cadastro de Veículo">
	<jsp:attribute name="script">
		<p>Aqui entra os javascripts...</p>
	</jsp:attribute>
	<jsp:body>
		<h1>Cadastro</h1>
		<c:url value="/veiculo/cadastrar" var="action"/>
		<form:form action="${action}" method="post" commandName="veiculo">
			<div class="form-group">
				<form:label path="marca">Marca</form:label>
				<form:input path="marca" cssClass="form-control"/>
				<form:errors path="marca" cssClass="text-danger"/>
			</div>	
			<div class="form-group">
				<form:label path="modelo">Modelo</form:label>
				<form:input path="modelo" cssClass="form-control"/>
				<form:errors path="modelo" cssClass="text-danger"/>
			</div>
			<div class="form-group">
				<form:label path="ano">Ano</form:label>
				<form:input path="ano" cssClass="form-control"/>
				<form:errors path="ano" cssClass="text-danger"/>
			</div>
			<div class="form-group">
				<form:label path="placa">Placa</form:label>
				<form:input path="placa" cssClass="form-control"/>
				<form:errors path="placa" cssClass="text-danger"/>
			</div>
			<div class="form-group">
				<form:label path="cor">Cor</form:label>
				<form:input path="cor" cssClass="form-control"/>
				<form:errors path="cor" cssClass="text-danger"/>
			</div>
			<div class="form-group">
				<form:label path="dataFabricacao">Data Fabricação</form:label>
				<form:input path="dataFabricacao" cssClass="form-control"/>
				<form:errors path="dataFabricacao" cssClass="text-danger"/>
			</div>
			<input type="submit" value="Salvar" class="btn btn-primary">
		</form:form>
	</jsp:body>
</tags:template>



***edicao.jsp


<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ taglib prefix="tag" tagdir="/WEB-INF/tags" %>
<%@ taglib prefix="form" uri="http://www.springframework.org/tags/form" %>

<tag:template titulo="Editar Veículo">
	<h1>Atualização de Veículo</h1>
	
	<c:url value="/veiculo/editar" var="link"/>
	<form:form action="${link}" method="post" commandName="veiculo">
		<form:hidden path="codigo"/>
		<div class="form-group">
			<form:label path="marca">Marca</form:label>
			<form:input path="marca" cssClass="form-control"/>
			<form:errors path="marca" cssClass="text-danger"/>
		</div>
		<div class="form-group">
			<form:label path="modelo">Modelo</form:label>
			<form:input path="modelo" cssClass="form-control"/>
			<form:errors path="modelo" cssClass="text-danger"/>
		</div>
		<div class="form-group">
			<form:label path="placa">Placa</form:label>
			<form:input path="placa" cssClass="form-control"/>
			<form:errors path="placa" cssClass="text-danger"/>
		</div>
		<div class="form-group">
			<form:label path="cor">Cor</form:label>
			<form:input path="cor" cssClass="form-control"/>
			<form:errors path="cor" cssClass="text-danger"/>
		</div>
		<div class="form-group">
			<form:label path="ano">Ano</form:label>
			<form:input path="ano" cssClass="form-control"/>
			<form:errors path="ano" cssClass="text-danger"/>
		</div>
		<div class="form-group">
			<form:label path="dataFabricacao">Data Fabricação</form:label>
			<form:input path="dataFabricacao" cssClass="form-control"/>
			<form:errors path="dataFabricacao" cssClass="text-danger"/>
		</div>
		<input type="submit" value="Salvar" class="btn btn-primary" >
		<c:url value="/veiculo/listar" var="listar"/>
		<a href="${listar}" class="btn btn-secondary">Cancelar</a>
	</form:form>
	
</tag:template>


***lista


<%@ taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt"%>
<%@ taglib uri="http://www.springframework.org/tags/form" prefix="form"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ taglib prefix="tags" tagdir="/WEB-INF/tags"  %>

<tags:template titulo="Lista de Veículos">
	<h1>Lista de Veículos</h1>
	
	<c:if test="${not empty msg }">
		<div class="alert alert-success">
			${msg}
		</div>
	</c:if>
	
	<table class="table">
		<tr>
			<th>Modelo</th>
			<th>Marca</th>
			<th>Placa</th>
			<th></th>
			<th></th>
		</tr>
		<c:forEach items="${veiculos }" var="v">
			<tr>
				<td>${v.modelo}</td>
				<td>${v.marca }</td>
				<td>${v.placa }</td>
				<td>
					<fmt:formatDate value="${v.dataFabricacao.time }" pattern="dd/MM/yyyy"/>					
				</td>
				<td>
					<c:url value="/veiculo/editar/${v.codigo}" var="link"/>
					<a href="${link}" class="btn btn-primary btn-sm">Editar</a>
					<button onclick="idCodigo.value = ${v.codigo}" type="button" class="btn btn-danger btn-sm" data-toggle="modal" data-target="#exampleModal">
 						Excluir
					</button>
				</td>
			</tr>
		</c:forEach>
	</table>
	
<!-- Button trigger modal -->


<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Excluir</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Deseja realmente excluir?
      </div>
      <div class="modal-footer">
      	<c:url value="/veiculo/excluir" var="excluir"/>
      	<form:form action="${excluir }" method="post">
      		<input type="hidden" name="codigo" id="idCodigo">
	        <button type="button" class="btn btn-secondary" data-dismiss="modal">Não</button>
	        <button type="submit" class="btn btn-danger">Sim</button>
	    </form:form>
      </div>
    </div>
  </div>
</div>
	
</tags:template>


****messages
***mensagens.properties

typeMismatch.java.lang.Integer = Digite somente números
typeMismatch.java.math.BigDecimal = Digite somente números
typeMismatch.java.util.Calendar = Data inválida

NotBlank.veiculo.marca = Marca não pode estar vazio
NotBlank = Preencha o valor
Size = Tamanho inválido

*/




